<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MCU: TorqueControllerLookupLaunch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MCU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classTorqueControllerLookupLaunch-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TorqueControllerLookupLaunch Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="LookupLaunchController_8h_source.html">LookupLaunchController.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TorqueControllerLookupLaunch:</div>
<div class="dyncontent">
<div class="center"><img src="classTorqueControllerLookupLaunch__inherit__graph.png" border="0" usemap="#aTorqueControllerLookupLaunch_inherit__map" alt="Inheritance graph"/></div>
<map name="aTorqueControllerLookupLaunch_inherit__map" id="aTorqueControllerLookupLaunch_inherit__map">
<area shape="rect" title=" " alt="" coords="5,401,231,500"/>
<area shape="rect" href="classBaseLaunchController.html" title=" " alt="" coords="32,108,204,353"/>
<area shape="rect" href="classController.html" title="Base class for all controllers, which define drivetrain command containing different variations of" alt="" coords="70,5,166,60"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for TorqueControllerLookupLaunch:</div>
<div class="dyncontent">
<div class="center"><img src="classTorqueControllerLookupLaunch__coll__graph.png" border="0" usemap="#aTorqueControllerLookupLaunch_coll__map" alt="Collaboration graph"/></div>
<map name="aTorqueControllerLookupLaunch_coll__map" id="aTorqueControllerLookupLaunch_coll__map">
<area shape="rect" title=" " alt="" coords="5,535,231,633"/>
<area shape="rect" href="classBaseLaunchController.html" title=" " alt="" coords="32,255,204,485"/>
<area shape="rect" href="classController.html" title="Base class for all controllers, which define drivetrain command containing different variations of" alt="" coords="49,137,145,192"/>
<area shape="rect" href="structTorqueControllerOutput__s.html" title="Packages drivetrain command with ready boolean to give feedback on controller successfully evaluating..." alt="" coords="169,137,344,192"/>
<area shape="rect" href="structDrivetrainCommand__s.html" title="Stores setpoints for a command to the Drivetrain, containing speed and torque setpoints for each moto..." alt="" coords="179,5,334,75"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a05549604c1cf55f544185c42c006ecac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTorqueControllerLookupLaunch.html#a05549604c1cf55f544185c42c006ecac">TorqueControllerLookupLaunch</a> (int16_t initial_speed_target)</td></tr>
<tr class="separator:a05549604c1cf55f544185c42c006ecac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0715ddd2aed19f4a42e72c8b7cf52d94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTorqueControllerLookupLaunch.html#a0715ddd2aed19f4a42e72c8b7cf52d94">TorqueControllerLookupLaunch</a> ()</td></tr>
<tr class="memdesc:a0715ddd2aed19f4a42e72c8b7cf52d94"><td class="mdescLeft">&#160;</td><td class="mdescRight">default constructor for slip launch controller: DEFAULT_LAUNCH_SPEED_TARGET = 1500(rpm)  <a href="classTorqueControllerLookupLaunch.html#a0715ddd2aed19f4a42e72c8b7cf52d94">More...</a><br /></td></tr>
<tr class="separator:a0715ddd2aed19f4a42e72c8b7cf52d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84447fb9219147270edc4c5335607916"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTorqueControllerLookupLaunch.html#a84447fb9219147270edc4c5335607916">calc_launch_algo</a> (const <a class="el" href="structVectornavData__s.html">VectornavData_s</a> &amp;vn_data) override</td></tr>
<tr class="memdesc:a84447fb9219147270edc4c5335607916"><td class="mdescLeft">&#160;</td><td class="mdescRight">increases speed target based on distance from start to ensure the speed target is progressing as the car begins to move  <a href="classTorqueControllerLookupLaunch.html#a84447fb9219147270edc4c5335607916">More...</a><br /></td></tr>
<tr class="separator:a84447fb9219147270edc4c5335607916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBaseLaunchController"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBaseLaunchController')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBaseLaunchController.html">BaseLaunchController</a></td></tr>
<tr class="memitem:a71f61f1433405c414422350a682503de inherit pub_methods_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a71f61f1433405c414422350a682503de">BaseLaunchController</a> (int16_t initial_speed_target)</td></tr>
<tr class="memdesc:a71f61f1433405c414422350a682503de inherit pub_methods_classBaseLaunchController"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for parent launch controller.  <a href="classBaseLaunchController.html#a71f61f1433405c414422350a682503de">More...</a><br /></td></tr>
<tr class="separator:a71f61f1433405c414422350a682503de inherit pub_methods_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd12d85b5259f0adfb115306779d16d inherit pub_methods_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a9cd12d85b5259f0adfb115306779d16d">tick</a> (const SysTick_s &amp;tick, const <a class="el" href="structPedalsSystemData__s.html">PedalsSystemData_s</a> &amp;pedalsData, const float wheel_rpms[], const <a class="el" href="structVectornavData__s.html">VectornavData_s</a> &amp;vn_data)</td></tr>
<tr class="memdesc:a9cd12d85b5259f0adfb115306779d16d inherit pub_methods_classBaseLaunchController"><td class="mdescLeft">&#160;</td><td class="mdescRight">ticks launch controller to progress through launch states when conditions are met. The conditions are explained above the launch states enum. all launch controllers use this class' implementation of tick. tick conatains the current system tick controlled by main.cpp pedalsData conatins the brake and accelerator values wheel_rpms[] contains how fast each wheel is spinning, order of wheels in this array is defined in <a class="el" href="SharedDataTypes_8h.html">SharedDataTypes.h</a> and <a class="el" href="Utility_8h.html">Utility.h</a> vn_data contains vector states of the car that will be provided to the calc_launch_algo method called in the LAUNCHING state of this set of modes  <a href="classBaseLaunchController.html#a9cd12d85b5259f0adfb115306779d16d">More...</a><br /></td></tr>
<tr class="separator:a9cd12d85b5259f0adfb115306779d16d inherit pub_methods_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5b72079b6e5dd17d8d1d2b1ef26adc inherit pub_methods_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BaseLaunchController_8h.html#a7e422301465b5cc1afc64ff1f6be0d03">LaunchStates_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a3b5b72079b6e5dd17d8d1d2b1ef26adc">get_launch_state</a> ()</td></tr>
<tr class="separator:a3b5b72079b6e5dd17d8d1d2b1ef26adc inherit pub_methods_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9e3474ced62d66ba12ce0ba8bae24c inherit pub_methods_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#adf9e3474ced62d66ba12ce0ba8bae24c">calc_launch_algo</a> (const <a class="el" href="structVectornavData__s.html">VectornavData_s</a> &amp;vn_data)=0</td></tr>
<tr class="memdesc:adf9e3474ced62d66ba12ce0ba8bae24c inherit pub_methods_classBaseLaunchController"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculates how speed target (the speed the car is trying to achieve during launch) is set and/or increased during launch This updates internal speed target variable launch_speed_target_  <a href="classBaseLaunchController.html#adf9e3474ced62d66ba12ce0ba8bae24c">More...</a><br /></td></tr>
<tr class="separator:adf9e3474ced62d66ba12ce0ba8bae24c inherit pub_methods_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07439af8aff84fd91238a149d970f1a5 inherit pub_methods_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTorqueControllerOutput__s.html">TorqueControllerOutput_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a07439af8aff84fd91238a149d970f1a5">evaluate</a> (const <a class="el" href="structSharedCarState__s.html">SharedCarState_s</a> &amp;state) override</td></tr>
<tr class="memdesc:a07439af8aff84fd91238a149d970f1a5 inherit pub_methods_classBaseLaunchController"><td class="mdescLeft">&#160;</td><td class="mdescRight">all launch controllers share the same evaluate method implemented in this class implementation.  <a href="classBaseLaunchController.html#a07439af8aff84fd91238a149d970f1a5">More...</a><br /></td></tr>
<tr class="separator:a07439af8aff84fd91238a149d970f1a5 inherit pub_methods_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd879d218121028029cc0a3620e004aa"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="structTorqueControllerOutput__s.html">TorqueControllerOutput_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#afd879d218121028029cc0a3620e004aa">evaluate</a> (const <a class="el" href="structSharedCarState__s.html">SharedCarState_s</a> &amp;state)=0</td></tr>
<tr class="memdesc:afd879d218121028029cc0a3620e004aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This mehod must be implemented by every controller in the Tc Muxer. This is called in the Muxer whenever the drivetrain command is obtained. TorqueControllerMux.cpp to see that in every tick of the system, the active controller must be ticked through this method.  <a href="classController.html#afd879d218121028029cc0a3620e004aa">More...</a><br /></td></tr>
<tr class="separator:afd879d218121028029cc0a3620e004aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2cccac2e93f851f0739446e29460b7fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTorqueControllerLookupLaunch.html#a2cccac2e93f851f0739446e29460b7fd">init_position</a> = false</td></tr>
<tr class="separator:a2cccac2e93f851f0739446e29460b7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classBaseLaunchController"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classBaseLaunchController')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classBaseLaunchController.html">BaseLaunchController</a></td></tr>
<tr class="memitem:a34ea2138e9d062a22b7a3a3a6a2a34bc inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTorqueControllerOutput__s.html">TorqueControllerOutput_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a34ea2138e9d062a22b7a3a3a6a2a34bc">writeout_</a></td></tr>
<tr class="separator:a34ea2138e9d062a22b7a3a3a6a2a34bc inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003d0180c9abef36a7533ecc2b8d3c8d inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a003d0180c9abef36a7533ecc2b8d3c8d">time_of_launch_</a></td></tr>
<tr class="separator:a003d0180c9abef36a7533ecc2b8d3c8d inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a056f848edac740e2a9f5d780503a6600 inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a056f848edac740e2a9f5d780503a6600">initial_ecef_x_</a></td></tr>
<tr class="separator:a056f848edac740e2a9f5d780503a6600 inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dcf05b00c434dbef3da6ffc3672a566 inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a7dcf05b00c434dbef3da6ffc3672a566">initial_ecef_y_</a></td></tr>
<tr class="separator:a7dcf05b00c434dbef3da6ffc3672a566 inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a134011bbdeb34dab981abb68164773e3 inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a134011bbdeb34dab981abb68164773e3">initial_ecef_z_</a></td></tr>
<tr class="separator:a134011bbdeb34dab981abb68164773e3 inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a678181bc40008847485d3c897ce7d253 inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BaseLaunchController_8h.html#a7e422301465b5cc1afc64ff1f6be0d03">LaunchStates_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a678181bc40008847485d3c897ce7d253">launch_state_</a> = LaunchStates_e::LAUNCH_NOT_READY</td></tr>
<tr class="separator:a678181bc40008847485d3c897ce7d253 inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56b0ad1e82bc945cd06c45b18677b72 inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#af56b0ad1e82bc945cd06c45b18677b72">current_millis_</a></td></tr>
<tr class="separator:af56b0ad1e82bc945cd06c45b18677b72 inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea65c4e7c6f638cbfa16ee809b8d738 inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#a2ea65c4e7c6f638cbfa16ee809b8d738">launch_speed_target_</a> = 0.0</td></tr>
<tr class="separator:a2ea65c4e7c6f638cbfa16ee809b8d738 inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80ca8fe09f9e81281c0fa01a68e89fe inherit pro_attribs_classBaseLaunchController"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseLaunchController.html#af80ca8fe09f9e81281c0fa01a68e89fe">init_speed_target_</a> = 0</td></tr>
<tr class="separator:af80ca8fe09f9e81281c0fa01a68e89fe inherit pro_attribs_classBaseLaunchController"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="LookupLaunchController_8h_source.html#l00010">10</a> of file <a class="el" href="LookupLaunchController_8h_source.html">LookupLaunchController.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a05549604c1cf55f544185c42c006ecac" name="a05549604c1cf55f544185c42c006ecac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05549604c1cf55f544185c42c006ecac">&#9670;&#160;</a></span>TorqueControllerLookupLaunch() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TorqueControllerLookupLaunch::TorqueControllerLookupLaunch </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>initial_speed_target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Lookup Launch <a class="el" href="classController.html" title="Base class for all controllers, which define drivetrain command containing different variations of">Controller</a> This launch controller is based off of a matlab and symlink generated lookup table. This has been converted to a C array with some basic python code using the array index as the input for the controller </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initial_speed_target</td><td>the initial speed commanded to the wheels </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="LookupLaunchController_8h_source.html#l00023">23</a> of file <a class="el" href="LookupLaunchController_8h_source.html">LookupLaunchController.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>        : <a class="code hl_class" href="classBaseLaunchController.html">BaseLaunchController</a>(initial_speed_target) {}</div>
<div class="ttc" id="aclassBaseLaunchController_html"><div class="ttname"><a href="classBaseLaunchController.html">BaseLaunchController</a></div><div class="ttdef"><b>Definition:</b> <a href="BaseLaunchController_8h_source.html#l00036">BaseLaunchController.h:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0715ddd2aed19f4a42e72c8b7cf52d94" name="a0715ddd2aed19f4a42e72c8b7cf52d94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0715ddd2aed19f4a42e72c8b7cf52d94">&#9670;&#160;</a></span>TorqueControllerLookupLaunch() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TorqueControllerLookupLaunch::TorqueControllerLookupLaunch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>default constructor for slip launch controller: DEFAULT_LAUNCH_SPEED_TARGET = 1500(rpm) </p>

<p class="definition">Definition at line <a class="el" href="LookupLaunchController_8h_source.html#l00026">26</a> of file <a class="el" href="LookupLaunchController_8h_source.html">LookupLaunchController.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   26</span>: <a class="code hl_function" href="classTorqueControllerLookupLaunch.html#a0715ddd2aed19f4a42e72c8b7cf52d94">TorqueControllerLookupLaunch</a>(<a class="code hl_variable" href="namespaceLookupLaunchControllerParams.html#ac4049371e03fa1996c91e6525965a7e3">LookupLaunchControllerParams::DEFAULT_LAUNCH_SPEED_TARGET</a>) {}</div>
<div class="ttc" id="aclassTorqueControllerLookupLaunch_html_a0715ddd2aed19f4a42e72c8b7cf52d94"><div class="ttname"><a href="classTorqueControllerLookupLaunch.html#a0715ddd2aed19f4a42e72c8b7cf52d94">TorqueControllerLookupLaunch::TorqueControllerLookupLaunch</a></div><div class="ttdeci">TorqueControllerLookupLaunch()</div><div class="ttdoc">default constructor for slip launch controller: DEFAULT_LAUNCH_SPEED_TARGET = 1500(rpm)</div><div class="ttdef"><b>Definition:</b> <a href="LookupLaunchController_8h_source.html#l00026">LookupLaunchController.h:26</a></div></div>
<div class="ttc" id="anamespaceLookupLaunchControllerParams_html_ac4049371e03fa1996c91e6525965a7e3"><div class="ttname"><a href="namespaceLookupLaunchControllerParams.html#ac4049371e03fa1996c91e6525965a7e3">LookupLaunchControllerParams::DEFAULT_LAUNCH_SPEED_TARGET</a></div><div class="ttdeci">const int16_t DEFAULT_LAUNCH_SPEED_TARGET</div><div class="ttdef"><b>Definition:</b> <a href="LookupLaunchController_8h_source.html#l00008">LookupLaunchController.h:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a84447fb9219147270edc4c5335607916" name="a84447fb9219147270edc4c5335607916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84447fb9219147270edc4c5335607916">&#9670;&#160;</a></span>calc_launch_algo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TorqueControllerLookupLaunch::calc_launch_algo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structVectornavData__s.html">VectornavData_s</a> &amp;&#160;</td>
          <td class="paramname"><em>vn_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>increases speed target based on distance from start to ensure the speed target is progressing as the car begins to move </p>

<p>Implements <a class="el" href="classBaseLaunchController.html#adf9e3474ced62d66ba12ce0ba8bae24c">BaseLaunchController</a>.</p>

<p class="definition">Definition at line <a class="el" href="LaunchControllerAlgos_8cpp_source.html#l00021">21</a> of file <a class="el" href="LaunchControllerAlgos_8cpp_source.html">LaunchControllerAlgos.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>{</div>
<div class="line"><span class="lineno">   23</span> </div>
<div class="line"><span class="lineno">   24</span>    <a class="code hl_variable" href="classBaseLaunchController.html#a2ea65c4e7c6f638cbfa16ee809b8d738">launch_speed_target_</a> = std::max((<span class="keywordtype">float</span>)<a class="code hl_variable" href="namespaceLookupLaunchControllerParams.html#ac4049371e03fa1996c91e6525965a7e3">LookupLaunchControllerParams::DEFAULT_LAUNCH_SPEED_TARGET</a>, <a class="code hl_variable" href="classBaseLaunchController.html#a2ea65c4e7c6f638cbfa16ee809b8d738">launch_speed_target_</a>);</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordtype">double</span> dx = vn_data.<a class="code hl_variable" href="structVectornavData__s.html#ab5e7a0fa3bcfc6242cbb9341dbcdb40f">ecef_coords</a>[0] - <a class="code hl_variable" href="classBaseLaunchController.html#a056f848edac740e2a9f5d780503a6600">initial_ecef_x_</a>;</div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordtype">double</span> dy = vn_data.<a class="code hl_variable" href="structVectornavData__s.html#ab5e7a0fa3bcfc6242cbb9341dbcdb40f">ecef_coords</a>[1] - <a class="code hl_variable" href="classBaseLaunchController.html#a7dcf05b00c434dbef3da6ffc3672a566">initial_ecef_y_</a>;</div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordtype">double</span> dz = vn_data.<a class="code hl_variable" href="structVectornavData__s.html#ab5e7a0fa3bcfc6242cbb9341dbcdb40f">ecef_coords</a>[2] - <a class="code hl_variable" href="classBaseLaunchController.html#a134011bbdeb34dab981abb68164773e3">initial_ecef_z_</a>;</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordtype">double</span> distance = sqrt((dx * dx) + (dy * dy) + (dz * dz));</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">   33</span><span class="comment">    Distance-lookup launch algorithm. Takes in the vel_dist_lookup</span></div>
<div class="line"><span class="lineno">   34</span><span class="comment">    generated from Luke&#39;s matlab/symlink to set speed targets based</span></div>
<div class="line"><span class="lineno">   35</span><span class="comment">    on distance travelled from the start point.</span></div>
<div class="line"><span class="lineno">   36</span><span class="comment">    This can also and may be better to replace with an integration</span></div>
<div class="line"><span class="lineno">   37</span><span class="comment">    of body velocity.</span></div>
<div class="line"><span class="lineno">   38</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    uint32_t idx = (uint32_t)(distance * 10); <span class="comment">// multiply by 10 to be used as index for meters in steps of 1/10</span></div>
<div class="line"><span class="lineno">   41</span>    idx = std::min(idx, (uint32_t)(<span class="keyword">sizeof</span>(<a class="code hl_variable" href="accel__lookup_8h.html#ad7897ffe38fbc6c7fcd38231f7add5ca">vel_dist_lookup</a>) / <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>)));</div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordtype">float</span> mps_target = <a class="code hl_variable" href="accel__lookup_8h.html#ad7897ffe38fbc6c7fcd38231f7add5ca">vel_dist_lookup</a>[idx];</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordtype">float</span> new_speed_target = mps_target * <a class="code hl_variable" href="PhysicalParameters_8h.html#aac55cdf0c5999b90193f6c334f7df144">METERS_PER_SECOND_TO_RPM</a>;</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_variable" href="classBaseLaunchController.html#a2ea65c4e7c6f638cbfa16ee809b8d738">launch_speed_target_</a> = std::max(<a class="code hl_variable" href="classBaseLaunchController.html#a2ea65c4e7c6f638cbfa16ee809b8d738">launch_speed_target_</a>, new_speed_target);</div>
<div class="line"><span class="lineno">   46</span>}</div>
<div class="ttc" id="aPhysicalParameters_8h_html_aac55cdf0c5999b90193f6c334f7df144"><div class="ttname"><a href="PhysicalParameters_8h.html#aac55cdf0c5999b90193f6c334f7df144">METERS_PER_SECOND_TO_RPM</a></div><div class="ttdeci">constexpr const float METERS_PER_SECOND_TO_RPM</div><div class="ttdef"><b>Definition:</b> <a href="PhysicalParameters_8h_source.html#l00015">PhysicalParameters.h:15</a></div></div>
<div class="ttc" id="aaccel__lookup_8h_html_ad7897ffe38fbc6c7fcd38231f7add5ca"><div class="ttname"><a href="accel__lookup_8h.html#ad7897ffe38fbc6c7fcd38231f7add5ca">vel_dist_lookup</a></div><div class="ttdeci">const float vel_dist_lookup[750]</div><div class="ttdef"><b>Definition:</b> <a href="accel__lookup_8h_source.html#l00006">accel_lookup.h:6</a></div></div>
<div class="ttc" id="aclassBaseLaunchController_html_a056f848edac740e2a9f5d780503a6600"><div class="ttname"><a href="classBaseLaunchController.html#a056f848edac740e2a9f5d780503a6600">BaseLaunchController::initial_ecef_x_</a></div><div class="ttdeci">double initial_ecef_x_</div><div class="ttdef"><b>Definition:</b> <a href="BaseLaunchController_8h_source.html#l00041">BaseLaunchController.h:41</a></div></div>
<div class="ttc" id="aclassBaseLaunchController_html_a134011bbdeb34dab981abb68164773e3"><div class="ttname"><a href="classBaseLaunchController.html#a134011bbdeb34dab981abb68164773e3">BaseLaunchController::initial_ecef_z_</a></div><div class="ttdeci">double initial_ecef_z_</div><div class="ttdef"><b>Definition:</b> <a href="BaseLaunchController_8h_source.html#l00043">BaseLaunchController.h:43</a></div></div>
<div class="ttc" id="aclassBaseLaunchController_html_a2ea65c4e7c6f638cbfa16ee809b8d738"><div class="ttname"><a href="classBaseLaunchController.html#a2ea65c4e7c6f638cbfa16ee809b8d738">BaseLaunchController::launch_speed_target_</a></div><div class="ttdeci">float launch_speed_target_</div><div class="ttdef"><b>Definition:</b> <a href="BaseLaunchController_8h_source.html#l00046">BaseLaunchController.h:46</a></div></div>
<div class="ttc" id="aclassBaseLaunchController_html_a7dcf05b00c434dbef3da6ffc3672a566"><div class="ttname"><a href="classBaseLaunchController.html#a7dcf05b00c434dbef3da6ffc3672a566">BaseLaunchController::initial_ecef_y_</a></div><div class="ttdeci">double initial_ecef_y_</div><div class="ttdef"><b>Definition:</b> <a href="BaseLaunchController_8h_source.html#l00042">BaseLaunchController.h:42</a></div></div>
<div class="ttc" id="astructVectornavData__s_html_ab5e7a0fa3bcfc6242cbb9341dbcdb40f"><div class="ttname"><a href="structVectornavData__s.html#ab5e7a0fa3bcfc6242cbb9341dbcdb40f">VectornavData_s::ecef_coords</a></div><div class="ttdeci">double ecef_coords[3]</div><div class="ttdef"><b>Definition:</b> <a href="SharedDataTypes_8h_source.html#l00086">SharedDataTypes.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2cccac2e93f851f0739446e29460b7fd" name="a2cccac2e93f851f0739446e29460b7fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cccac2e93f851f0739446e29460b7fd">&#9670;&#160;</a></span>init_position</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TorqueControllerLookupLaunch::init_position = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="LookupLaunchController_8h_source.html#l00013">13</a> of file <a class="el" href="LookupLaunchController_8h_source.html">LookupLaunchController.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/systems/include/Controllers/<a class="el" href="LookupLaunchController_8h_source.html">LookupLaunchController.h</a></li>
<li>lib/systems/src/Controllers/<a class="el" href="LaunchControllerAlgos_8cpp_source.html">LaunchControllerAlgos.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
